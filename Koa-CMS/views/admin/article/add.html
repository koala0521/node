<!--
 * @Author: XueBaBa
 * @Description: 文件描述~
 * @Date: 2018-03-20 12:02:42
 * @LastEditTime: 2020-10-13 17:30:48
 * @LastEditors: Do not edit
 * @FilePath: /Koa-CMS/views/admin/article/add.html
-->
<!DOCTYPE html>
<html lang="en">
	
	<!-- header -->
	{{ include 'admin/public/header.html' }}

	<script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.config.js"></script> 
	<script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.all.min.js"> </script> 
	<script type="text/javascript" charset="utf-8" src="/ueditor/lang/zh-cn/zh-cn.js"></script>	

	<body>

		<div class="navbar navbar-default" id="navbar">

			<script type="text/javascript">
				try{ace.settings.check('navbar' , 'fixed')}catch(e){}
			</script>

			<!-- 用户信息 -->
			{{ include 'admin/public/nav_top.html' }}

		</div>

		<div class="main-container" id="main-container">
			<script type="text/javascript">
				try{ace.settings.check('main-container' , 'fixed')}catch(e){}
			</script>

			<div class="main-container-inner">
				<a class="menu-toggler" id="menu-toggler" href="#">
					<span class="menu-text"></span>
				</a>

				<!-- 左侧菜单 -->
				{{ include 'admin/public/nav_left.html' }}				

				<div class="main-content">
					<div class="breadcrumbs" id="breadcrumbs">
						<script type="text/javascript">
							try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
						</script>

						<ul class="breadcrumb">
							<li>
								<i class="icon-home home-icon"></i>
								<a href="#">首页</a>
							</li>
							<li class="active">控制台</li>
						</ul><!-- .breadcrumb -->

						<div class="nav-search" id="nav-search">
							<form class="form-search">
								<span class="input-icon">
									<input type="text" placeholder="Search ..." class="nav-search-input" id="nav-search-input" autocomplete="off" />
									<i class="icon-search nav-search-icon"></i>
								</span>
							</form>
						</div><!-- #nav-search -->
					</div>

					<div class="page-content">

						<div class="page-header">
							<h1>
								增加内容								
							</h1>
						</div><!-- /.page-header -->

					<form class="form-horizontal" role="form" action="{{ __HOST__ }}/admin/article/doAdd" method="POST" enctype="multipart/form-data" >
							<div class="form-group">
								<label class="col-sm-2 control-label no-padding-right" for="form-field-1">标题:</label>

								<div class="col-sm-10">
									<input require="true" type="text" name="title" id="form-field-1" placeholder="" class="col-xs-10 col-sm-5">
								</div>
							</div>

							<!-- <div class="form-group">
								<label class="col-sm-2 control-label no-padding-right" for="form-field-2">所属分类:</label>

								<div class="col-sm-10">
									<select name="pid" id="cate_id" style="width:200px;">
										
										<option value="0">无分类</option>

										{{each list }}
										
											<option value="{{@ $value._id }}">{{ $value.title }}</option>
											
										{{/each}}
										
									</select>
									
								</div>
							</div>							 -->

							<!-- <div class="form-group">
								<label class="col-sm-2 control-label no-padding-right" for="form-field-2">关键字:</label>

								<div class="col-sm-10">
									<input require="true" type="text" name="keywords" id="form-field-2" class="col-xs-10 col-sm-5" /> 
								</div>
							</div> -->

							<!-- <div class="form-group">
								<label class="col-sm-2 control-label no-padding-right" >状态:</label>

								<div class="col-sm-10">
									<span>未审核</span>
									<input type="radio" name="state" value="0" />									
									<span>已审核</span>
									<input type="radio" name="state" value="1" />
								</div>
							</div> -->


							<div class="form-group">
								<label class="col-sm-2 control-label no-padding-right">图片</label>

								<div class="col-sm-10">
									<input type="file" name="avatar" value="" />
								</div>
							</div>	

							<div class="form-group">
								<label class="col-sm-2 control-label no-padding-right">描述</label>

								<div class="col-sm-10">
									<textarea rows="3" cols="20" name="description"   class="col-xs-10 col-sm-5"></textarea>
								</div>
							</div>		

							<div class="form-group" style="margin-top: 32px;">
								<label class="col-sm-2 control-label no-padding-right">内容</label>
								<div class="col-sm-10">
									<script id="editor" type="text/plain" style="width:510px;height:300px;"></script>
								</div>
							</div>		

							<div class="form-group" style="margin-top: 32px;" >
								<label class="col-sm-2 control-label no-padding-right"></label>
								<div class="col-sm-10">
									<button tyope="submit" class="btn btn-x btn-success" >提交</button>
								</div>
							</div>		
							
						</form>

					</div>
				</div><!-- /.main-content -->
			
			</div>	<!-- /.main-container-inner -->

			<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
				<i class="icon-double-angle-up icon-only bigger-110"></i>
			</a>
		</div>  <!-- /.main-container -->

		<!-- 底部 -->
		{{ include 'admin/public/footer.html' }}

		<script type="text/javascript">
			
			$(function(){
				
				
				function showErrorAlert (reason, detail) {
					var msg='';
					if (reason==='unsupported-file-type') { msg = "Unsupported format " +detail; }
					else {
						console.log("error uploading file", reason, detail);
					}
					$('<div class="alert"> <button type="button" class="close" data-dismiss="alert">&times;</button>'+ 
					'<strong>File upload error</strong> '+msg+' </div>').prependTo('#alerts');
				}
				
				$('#editor1').ace_wysiwyg({
						toolbar:
						[
							'font',
							null,
							'fontSize',
							null,
							{name:'bold', className:'btn-info'},
							{name:'italic', className:'btn-info'},
							{name:'strikethrough', className:'btn-info'},
							{name:'underline', className:'btn-info'},
							null,
							{name:'insertunorderedlist', className:'btn-success'},
							{name:'insertorderedlist', className:'btn-success'},
							{name:'outdent', className:'btn-purple'},
							{name:'indent', className:'btn-purple'},
							null,
							{name:'justifyleft', className:'btn-primary'},
							{name:'justifycenter', className:'btn-primary'},
							{name:'justifyright', className:'btn-primary'},
							{name:'justifyfull', className:'btn-inverse'},
							null,
							{name:'createLink', className:'btn-pink'},
							{name:'unlink', className:'btn-pink'},
							null,
							{name:'insertImage', className:'btn-success'},
							null,
							'foreColor',
							null,
							{name:'undo', className:'btn-grey'},
							{name:'redo', className:'btn-grey'}
						],
						'wysiwyg': {
							fileUploadError: showErrorAlert
						}
					}).prev().addClass('wysiwyg-style2');

			})

			var ueditor = UE.getEditor('editor'); 
			
			ueditor.addListener( "ready", function (){ 

				/*注意*/ // editor 准备好之后才可以使用 
				ueditor.setContent(``);  // 设置富文本填充内容，默认为空
			});		

		</script>

	</body>
</html>

